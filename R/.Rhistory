setwd("G:/Share Table QMRA/Share-Table-QMRA/R")
#Opening Libary and Inputs-------------------------------------
source("Util_Library.R")
source("Functions_Full_Analysis.R")
#Inputs and Source Files-------------------------------------
#Inputs
source("New_StudentLoop.R")
source("Input_Static.R")
source("Input_Functions.R")
source("Util_DFFunctions.R")
source("Util_DFWeekCreation.R")
source("Util_Counter&Lists.R")
#Functions
source("Util_Functions.R")
source("Util_CCFunctions2.R")
source("Util_VisualFunctions.R")
#Running Loop First:-------------------------------------
start_time<-Sys.time()
source("Main_Loops2.R")
#Summary DFs for Future-------------------------------------
#Creating Data Frame of Consumed Items for all the products
#Copy of Compiled Data Frame
Individual_Analysis_Fr_CopON<-bind_rows(List_Sens_Fr)
#Data Frame without repeats and Consumed Items
ST_ON_Analysis<-Func_Asys_MainDF(SummaryList = List_Sens_Fr,FoodType = "Fruit")
#Inputs and Source Files-------------------------------------
#Inputs
source("New_StudentLoop.R")
source("Input_Static.R")
source("Input_Functions.R")
source("Util_DFFunctions.R")
source("Util_DFWeekCreation.R")
source("Util_Counter&Lists.R")
#Functions
source("Util_Functions.R")
source("Util_CCFunctions2.R")
source("Util_VisualFunctions.R")
#Share Table Toggle
#Include Share Table:
Share_Table_YN<-0
#NOTE: Turn off Re-Sharing and -ST to reservice too (next section)
# Re-Sharing, Re-Service
#Share Table to Service line after every Day # note turn in 1 if ST on
STtoReservice_YN<-0
#Re-Sharing of Share table items after every service # note turn in 1 is ST on
Resharing_YN<-0
#Running Loop First:-------------------------------------
start_time<-Sys.time()
source("Main_Loops2.R")
#Summary DFs for Future.-------------------------------------
#Creating Data Frame of Consumed Items for all the products
#Copy of Compiled Data Frame
Individual_Analysis_Fr_CopOFF<-bind_rows(List_Sens_Fr)
#Data Frame without repeats and Consumed Items
ST_OFF_Analysis<-Func_Asys_MainDF(SummaryList = List_Sens_Fr,FoodType = "Fruit")
#Inputs and Source Files-------------------------------------
start_time<-Sys.time()
#Inputs
source("Input_Static.R")
source("Input_Functions.R")
source("Util_DFFunctions.R")
source("Util_DFWeekCreation.R")
source("Util_Counter&Lists.R")
#Functions
source("Util_Functions.R")
source("Util_CCFunctions2.R")
source("Util_VisualFunctions.R")
#Changing Inputs for Washing on, Wraaping off.
#Washing Between Services
Wash_Between_Services<-0
#Wash Selection Table Fruit
Wash_Selection_YN_Fr<-1
#Wash Share Table Items
Wash_ST_YN_Fr<-1
#Changing Wrapping off:
#Wrapping Apples
Wrapping_Apples<-0
#Running Loop First:-------------------------------------
start_time<-Sys.time()
source("Main_Loops2.R")
#Summary DFs for Future. -------------------------------------
#Creating Data Frame of Consumed Items for all the products
#Copy of Compiled Data Frame
Individual_Analysis_Fr_CopONWash<-bind_rows(List_Sens_Fr)
#Data Frame without repeats and Consumed Items
ST_ONWash_Analysis<-Func_Asys_MainDF(SummaryList = List_Sens_Fr,FoodType = "Fruit")
#Inputs and Source Files-------------------------------------
start_time<-Sys.time()
#Inputs
source("Input_Static.R")
source("Input_Functions.R")
source("Util_DFFunctions.R")
source("Util_DFWeekCreation.R")
source("Util_Counter&Lists.R")
#Functions
source("Util_Functions.R")
source("Util_CCFunctions2.R")
source("Util_VisualFunctions.R")
#Changing Inputs for Washing off, Wraaping on.
#Washing Between Services
Wash_Between_Services<-0
#Wash Selection Table Fruit
Wash_Selection_YN_Fr<-0
#Wash Share Table Items
Wash_ST_YN_Fr<-0
#Changing Wrapping off:
#Wrapping Apples
Wrapping_Apples<-1
#Running Loop again:-------------------------------------
source("Main_Loops2.R")
#Summary DFs for Future.
#Creating Data Frame of Consumed Items for all the products
#Copy of Compiled Data Frame
Individual_Analysis_Fr_CopONWr<-bind_rows(List_Sens_Fr)
#Data Frame without repeats and Consumed Items
ST_ONWr_Analysis<-Func_Asys_MainDF(SummaryList = List_Sens_Fr,FoodType = "Fruit")
#Inputs and Source Files-------------------------------------
start_time<-Sys.time()
#Inputs
source("Input_Static.R")
source("Input_Functions.R")
source("Util_DFFunctions.R")
source("Util_DFWeekCreation.R")
source("Util_Counter&Lists.R")
#Functions
source("Util_Functions.R")
source("Util_CCFunctions2.R")
source("Util_VisualFunctions.R")
#Share Table Toggle
#Include Share Table:
Share_Table_YN<-0
#NOTE: Turn off Re-Sharing and -ST to reservice too (next section)
# Re-Sharing, Re-Service
#Share Table to Service line after every Day # note turn in 1 if ST on
STtoReservice_YN<-0
#Re-Sharing of Share table items after every service # note turn in 1 is ST on
Resharing_YN<-0
#Changing Inputs for Washing on, Wraaping off.
#Washing Between Services
Wash_Between_Services<-0
#Wash Selection Table Fruit
Wash_Selection_YN_Fr<-1
#Wash Share Table Items
Wash_ST_YN_Fr<-1
#Changing Wrapping off:
#Wrapping Apples
Wrapping_Apples<-0
#Running Loop First:-------------------------------------
start_time<-Sys.time()
source("Main_Loops2.R")
#Summary DFs for Future.-------------------------------------
#Creating Data Frame of Consumed Items for all the products
#Copy of Compiled Data Frame
Individual_Analysis_Fr_CopOFFWash<-bind_rows(List_Sens_Fr)
#Data Frame without repeats and Consumed Items
ST_OFFWash_Analysis<-Func_Asys_MainDF(SummaryList = List_Sens_Fr,FoodType = "Fruit")
#Inputs and Source Files-------------------------------------
# Source Files
start_time<-Sys.time()
#Inputs
source("Input_Static.R")
source("Input_Functions.R")
source("Util_DFFunctions.R")
source("Util_DFWeekCreation.R")
source("Util_Counter&Lists.R")
#Functions
source("Util_Functions.R")
source("Util_CCFunctions2.R")
source("Util_VisualFunctions.R")
#Share Table Toggle
#Include Share Table:
Share_Table_YN<-0
#NOTE: Turn off Re-Sharing and -ST to reservice too (next section)
# Re-Sharing, Re-Service
#Share Table to Service line after every Day # note turn in 1 if ST on
STtoReservice_YN<-0
#Re-Sharing of Share table items after every service # note turn in 1 is ST on
Resharing_YN<-0
#Changing Inputs for Washing off, Wraaping on.
#Washing Between Services
Wash_Between_Services<-0
#Wash Selection Table Fruit
Wash_Selection_YN_Fr<-0
#Wash Share Table Items
Wash_ST_YN_Fr<-0
#Changing Wrapping off:
#Wrapping Apples
Wrapping_Apples<-1
#Running Loop again:-------------------------------------
source("Main_Loops2.R")
#Summary DFs for Future.-------------------------------------
#Creating Data Frame of Consumed Items for all the products
#Copy of Compiled Data Frame
Individual_Analysis_Fr_CopOFFWr<-bind_rows(List_Sens_Fr)
#Data Frame without repeats and Consumed Items
ST_OFFWr_Analysis<-Func_Asys_MainDF(SummaryList = List_Sens_Fr,FoodType = "Fruit")
#ST ON-------------------------------------
ST_ON_Analysis_Copy<-ST_ON_Analysis
ST_ON_Analysis<-Func_Asys_ContbyStudent(ST_ON_Analysis)
#Analysis For weekly Dose Response ON
OutputsDRON<-Func_DR_Main(AnalysisDF = ST_ON_Analysis, Reps_DR = 100)
df_inf_Week_ON<-OutputsDRON$df_inf_Week
df_ill_Week_ON<-OutputsDRON$df_ill_Week
#ST OFF-------------------------------------
ST_OFF_Analysis_Copy<-ST_OFF_Analysis
ST_OFF_Analysis<-Func_Asys_ContbyStudent(ST_OFF_Analysis)
#Analysis For weekly Dose Response ON
OutputsDROFF<-Func_DR_Main(AnalysisDF = ST_OFF_Analysis, Reps_DR = 100)
df_inf_Week_OFF<-OutputsDROFF$df_inf_Week
df_ill_Week_OFF<-OutputsDROFF$df_ill_Week
#ST ON Wash ONF-------------------------------------
ST_ONWash_Analysis_Copy<-ST_ONWash_Analysis
ST_ONWash_Analysis<-Func_Asys_ContbyStudent(ST_ONWash_Analysis)
#Analysis For weekly Dose Response ON
OutputsDRONWash<-Func_DR_Main(AnalysisDF = ST_ONWash_Analysis, Reps_DR = 100)
df_inf_Week_ONWash<-OutputsDRONWash$df_inf_Week
df_ill_Week_ONWash<-OutputsDRONWash$df_ill_Week
#ST ON Wrapp ON-------------------------------------
ST_ONWr_Analysis_Copy<-ST_ONWr_Analysis
ST_ONWr_Analysis<-Func_Asys_ContbyStudent(ST_ONWr_Analysis)
#Analysis For weekly Dose Response ON
OutputsDRONWr<-Func_DR_Main(AnalysisDF = ST_ONWr_Analysis, Reps_DR = 100)
df_inf_Week_ONWr<-OutputsDRONWr$df_inf_Week
df_ill_Week_ONWr<-OutputsDRONWr$df_ill_Week
#ST ST OFF Wash ON-------------------------------------
ST_OFFWash_Analysis_Copy<-ST_OFFWash_Analysis
ST_OFFWash_Analysis<-Func_Asys_ContbyStudent(ST_OFFWash_Analysis)
#Analysis For weekly Dose Response ON
OutputsDROFFWash<-Func_DR_Main(AnalysisDF = ST_OFFWash_Analysis, Reps_DR = 100)
df_inf_Week_OFFWash<-OutputsDROFFWash$df_inf_Week
df_ill_Week_OFFWash<-OutputsDROFFWash$df_ill_Week
#ST OFF Wrapp ONF-------------------------------------
ST_OFFWr_Analysis_Copy<-ST_OFFWr_Analysis
ST_OFFWr_Analysis<-Func_Asys_ContbyStudent(ST_OFFWr_Analysis)
#Analysis For weekly Dose Response ON
OutputsDROFFWr<-Func_DR_Main(AnalysisDF = ST_OFFWr_Analysis, Reps_DR = 100)
df_inf_Week_OFFWr<-OutputsDROFFWr$df_inf_Week
df_ill_Week_OFFWr<-OutputsDROFFWr$df_ill_Week
#ST ON
df_ill_Week_ON_Box_Prev<-Func_DF_Prevalence(AnalysisDFCop = ST_ON_Analysis_Copy, df_Ill_Week = df_ill_Week_ON,Intervention = "STON")
#ST OFF
df_ill_Week_OFF_Box_Prev<-Func_DF_Prevalence(AnalysisDFCop = ST_OFF_Analysis_Copy, df_Ill_Week = df_ill_Week_OFF,Intervention = "STOFF")
#ST ONWash
df_ill_Week_ONWash_Box_Prev<-Func_DF_Prevalence(AnalysisDFCop = ST_ONWash_Analysis_Copy, df_Ill_Week = df_ill_Week_ONWash,Intervention = "ONwash")
#ST ONWr
df_ill_Week_ONWr_Box_Prev<-Func_DF_Prevalence(AnalysisDFCop = ST_ONWr_Analysis_Copy, df_Ill_Week = df_ill_Week_ONWr,Intervention = "ONWr")
#ST OFFWash
df_ill_Week_OFFWash_Box_Prev<-Func_DF_Prevalence(AnalysisDFCop = ST_OFFWash_Analysis_Copy, df_Ill_Week = df_ill_Week_OFFWash,Intervention = "OFFWash")
#ST OFFWr
df_ill_Week_OFFWr_Box_Prev<-Func_DF_Prevalence(AnalysisDFCop = ST_OFFWr_Analysis_Copy, df_Ill_Week = df_ill_Week_OFFWr,Intervention = "OFFWr")
#Boxplot Together
df_ill_Week_Tog_Box<-bind_rows(df_ill_Week_ON_Box_Prev,df_ill_Week_OFF_Box_Prev,df_ill_Week_ONWash_Box_Prev,df_ill_Week_ONWr_Box_Prev,df_ill_Week_OFFWash_Box_Prev,df_ill_Week_OFFWr_Box_Prev)
Ill_Prev_Comb<-ggplot(df_ill_Week_Tog_Box, aes(x = variable, y = Prev, fill=Int)) +
geom_boxplot() +
theme_bw()+
ylab("Prevalence of Ill Students")+
xlab("Week #") +
ggtitle("ST Status: Compaison Weekly Dose Response Distribution: Prevalence Ill Students")+
theme(plot.title = element_text(hjust = 0.5))+
labs(fill = "Interventions")+
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
ggsave(filename = "Ill_Prev_Comb.png", path = "Dose Response",width = 40,height = 10,)
print(Ill_Prev_Comb)
ST_Comb_Analysis_Con<-Func_DF_Locations()
ggplot(data =ST_Comb_Analysis_Con, aes(x = Type,fill=Location)  )+
geom_bar()+
geom_text(stat = "count",aes(label=..count..),position = position_stack(vjust = .5))
ST_ON_Analysis_Log<-Func_DF_Histogram_Log(AnalysisDF = ST_ON_Analysis,Intervention = "ON")
ST_OFF_Analysis_Log<-Func_DF_Histogram_Log(AnalysisDF = ST_OFF_Analysis,Intervention = "OFF")
ST_ONWash_Analysis_Log<-Func_DF_Histogram_Log(AnalysisDF = ST_ONWash_Analysis,Intervention = "ONWash")
ST_ONWr_Analysis_Log<-Func_DF_Histogram_Log(AnalysisDF = ST_ONWr_Analysis,Intervention = "ONWr")
ST_OFFWash_Analysis_Log<-Func_DF_Histogram_Log(AnalysisDF = ST_OFFWash_Analysis,Intervention = "OFFWash")
ST_OFFWr_Analysis_Log<-Func_DF_Histogram_Log(AnalysisDF = ST_OFFWr_Analysis,Intervention = "OFFWr")
ST_Comb_Analysis_Log<-bind_rows(ST_ON_Analysis_Log,ST_OFF_Analysis_Log,ST_ONWash_Analysis_Log,ST_ONWr_Analysis_Log,ST_OFFWash_Analysis_Log,ST_OFFWr_Analysis_Log)
Wrapped_Histograms<-ggplot(data = ST_Comb_Analysis_Log,aes(x=Log))+
geom_histogram(colour="black", alpha=.2,bins =15,boundary = -.001)+
facet_wrap(~ OnOff)+
scale_x_continuous( )+
xlab("Contamination log GEC/Item")+
ylab("Number of Students")+
ggtitle("Share Table Interventions: Contamination distribution Consumed by Students")+
theme(plot.title = element_text(hjust = 0.5))+
stat_bin(aes(y=..count.., label=..count..), geom="text", vjust=-.2,bins=15, boundary = -.001,size=3)
ggsave(filename = "Wrapped_Histograms.png", path = "Dose Response",width = 10,height = 6,)
print(Wrapped_Histograms)
tipsON<-Func_DF_Barplot_Log(ST_Analysis_Log = ST_ON_Analysis_Log, Intervention = "ON")
tipsOFF<-Func_DF_Barplot_Log(ST_Analysis_Log = ST_OFF_Analysis_Log,Intervention = "OFF")
tipsONWash<-Func_DF_Barplot_Log(ST_Analysis_Log = ST_ONWash_Analysis_Log,Intervention = "ONWash")
tipsONWr<-Func_DF_Barplot_Log(ST_Analysis_Log = ST_ONWr_Analysis_Log,Intervention = "ONWr")
tipsOFFWash<-Func_DF_Barplot_Log(ST_Analysis_Log = ST_OFFWash_Analysis_Log,Intervention = "OFFWash")
tipsOFFWr<-Func_DF_Barplot_Log(ST_Analysis_Log = ST_OFFWr_Analysis_Log,Intervention = "OFFWr")
tips4<-bind_rows(tipsON,tipsOFF,tipsONWash,tipsONWr,tipsOFFWash, tipsOFFWr)
barchart_Expos<-ggplot(data =tips4, aes(x = OnOff,y=perc, fill=factor(Category, levels=c("0","<0 - 99","100 - 999",">=1000"))))+
geom_col(width = .7)+
geom_text_repel(aes(x = OnOff,
y = perc,
label = paste(round(perc*100,2),"%")),nudge_y = .1, nudge_x = .25, direction = "x")+
geom_text_repel(aes(x = OnOff,
y = perc,
label = n),nudge_x = -.25,nudge_y = .1, direction = "x")+
labs(fill = "Category")+
scale_x_discrete()+
coord_flip()+
xlab(label = "Share Table Status")+
ylab(label = "")+
ggtitle("Composition on Exposure of Individual Students (%)")+
theme(plot.title = element_text(hjust = 0.5))
ggsave(filename = "barchart_Expos.png", path = "Dose Response",width = 8,height = 8,)
print(barchart_Expos)
List_Summary_Table<-list(ST_ON_Analysis,ST_OFF_Analysis,ST_ONWash_Analysis,ST_ONWr_Analysis,ST_OFFWash_Analysis,ST_OFFWr_Analysis)
Treatment_Names<-c("ON", "OFF", "ONWash","ONWr", "OFFWash","OFFWr")
NStudentsConsumed<-sapply(List_Summary_Table, nrow)
List_Summary_Table_Ill<-list(df_ill_Week_ON_Box_Prev,df_ill_Week_OFF_Box_Prev,df_ill_Week_ONWash_Box_Prev,df_ill_Week_ONWr_Box_Prev,df_ill_Week_OFFWash_Box_Prev,df_ill_Week_OFFWr_Box_Prev)
List_Summary_Table_Ill_Col<-lapply(List_Summary_Table_Ill,"[[","Prev")
MeanPRevalneces<-sapply(X =List_Summary_Table_Ill_Col,FUN = mean )
Prevs975<-sapply(X =List_Summary_Table_Ill_Col,FUN = quantile,.975  )
Prevs025<-sapply(X =List_Summary_Table_Ill_Col,FUN = quantile,.025  )
List_Percentages_Dist<-list(tipsON,tipsOFF,tipsONWash,tipsONWr,tipsOFFWash, tipsOFFWr)
ZerosL<-unlist(sapply(List_Percentages_Dist,function(x) x[4,3]))
ZeroNine<-unlist(sapply(List_Percentages_Dist,function(x) x[3,3]))
Nine_3Nine<-unlist(sapply(List_Percentages_Dist,function(x) x[2,3]))
ThousandsL<-unlist(sapply(List_Percentages_Dist,function(x) x[1,3]))
#Creation of Data Frame
Summary_Comparison_Treatments<-data.frame(
"Treatment" = c(1:6),
"Treatment Desc" = Treatment_Names
)
Summary_Comparison_Treatments<-data.frame(
"Treatment" = c(1:6),
"Treatment Desc" = Treatment_Names,
"NWeeks" = Sens_Iterations,
"Participating Students" = N_Iterations*Service_No* Food_Days*Sens_Iterations,
"NStudentCosumedFood" = NStudentsConsumed,
#"ConsumptionRate"=Summary_Comparison_Treatments$NStudentCosumedFood/Summary_Comparison_Treatments$Participating.Students*100,
"0" = ZerosL*100 ,
">0" = ZeroNine*100,
">100"=Nine_3Nine*100,
">1000"= ThousandsL*100,
"Mean Prevalence Ill" = MeanPRevalneces*100,
"Top 97.5 Ill"=Prevs975*100,
"Bot 025 Ill"=Prevs025*100,
stringsAsFactors = FALSE
)
View(Summary_Comparison_Treatments)
barchart_Expos<-ggplot(data =tips4, aes(x = OnOff,y=perc, fill=factor(Category, levels=c("0","<0 - 99","100 - 999",">=1000"))))+
geom_col(width = .7)+
geom_text_repel(aes(x = OnOff,
y = perc,
label = paste(round(perc*100,2),"%")),nudge_y = .1, nudge_x = .25, direction = "x")+
geom_text_repel(aes(x = OnOff,
y = perc,
label = n),nudge_x = -.25,nudge_y = .1, direction = "x")+
labs(fill = "Category")+
scale_x_discrete()+
coord_flip()+
xlab(label = "Share Table Status")+
ylab(label = "")+
ggtitle("Composition on Exposure of Individual Students (%)")+
theme(plot.title = element_text(hjust = 0.5))
ggsave(filename = "barchart_Expos.png", path = "Dose Response",width = 8,height = 8,)
ggsave(filename = "barchart_Expos.png", path = "Dose Response",width = 8,height = 8,)
print(barchart_Expos)
Func_DF_Locations<-function(){
ST_OFF_Analysis_Con<-func_remove_repeats(Individual_Analysis_Fr_CopOFF)
ST_ON_Analysis_Con<-func_remove_repeats(Individual_Analysis_Fr_CopON)
ST_ONWash_Analysis_Con<-func_remove_repeats(Individual_Analysis_Fr_CopONWash)
ST_ONWr_Analysis_Con<-func_remove_repeats(Individual_Analysis_Fr_CopONWr)
ST_OFFWash_Analysis_Con<-func_remove_repeats(Individual_Analysis_Fr_CopOFFWash)
ST_OFFWr_Analysis_Con<-func_remove_repeats(Individual_Analysis_Fr_CopOFFWr)
T1<-nrow(ST_ON_Analysis_Con)
T2<-nrow(ST_OFF_Analysis_Con)
T3<-nrow(ST_ONWash_Analysis_Con)
T4<-nrow(ST_ONWr_Analysis_Con)
T5<-nrow(ST_OFFWash_Analysis_Con)
T6<-nrow(ST_OFFWr_Analysis_Con)
Vector_Total_Items<-c(T1,T2,T3,T4,T5,T6)
return(Vector_Total_Items)
}
Total_Items<-Func_DF_Locations()
ggplot(data =ST_Comb_Analysis_Con, aes(x = Type,fill=Location)  )+
geom_bar()+
geom_text(stat = "count",aes(label=..count..),position = position_stack(vjust = .5))
ST_ON_Analysis_Con<-func_remove_repeats(Individual_Analysis_Fr_CopON)
T1C<-sum(ST_ON_Analysis_Con$Location=="Consumed")
T1C<-sum(ST_ON_Analysis_Con$Location=="Consumed")
Func_DF_Locations<-function(){
ST_OFF_Analysis_Con<-func_remove_repeats(Individual_Analysis_Fr_CopOFF)
ST_ON_Analysis_Con<-func_remove_repeats(Individual_Analysis_Fr_CopON)
ST_ONWash_Analysis_Con<-func_remove_repeats(Individual_Analysis_Fr_CopONWash)
ST_ONWr_Analysis_Con<-func_remove_repeats(Individual_Analysis_Fr_CopONWr)
ST_OFFWash_Analysis_Con<-func_remove_repeats(Individual_Analysis_Fr_CopOFFWash)
ST_OFFWr_Analysis_Con<-func_remove_repeats(Individual_Analysis_Fr_CopOFFWr)
T1<-nrow(ST_ON_Analysis_Con)
T2<-nrow(ST_OFF_Analysis_Con)
T3<-nrow(ST_ONWash_Analysis_Con)
T4<-nrow(ST_ONWr_Analysis_Con)
T5<-nrow(ST_OFFWash_Analysis_Con)
T6<-nrow(ST_OFFWr_Analysis_Con)
T1C<-sum(ST_ON_Analysis_Con$Location=="Consumed")
T2C<-sum(ST_OFF_Analysis_Con$Location=="Consumed")
T3C<-sum(ST_ONWash_Analysis_Con$Location=="Consumed")
T4C<-sum(ST_ONWr_Analysis_Con$Location=="Consumed")
T5C<-sum(ST_OFFWash_Analysis_Con$Location=="Consumed")
T6C<-sum(ST_OFFWr_Analysis_Con$Location=="Consumed")
T1D<-sum(ST_ON_Analysis_Con$Location=="Discarded")
T2D<-sum(ST_OFF_Analysis_Con$Location=="Discarded")
T3D<-sum(ST_ONWash_Analysis_Con$Location=="Discarded")
T4D<-sum(ST_ONWr_Analysis_Con$Location=="Discarded")
T5D<-sum(ST_OFFWash_Analysis_Con$Location=="Discarded")
T6D<-sum(ST_OFFWr_Analysis_Con$Location=="Discarded")
Vector_Total_Items<-c(T1,T2,T3,T4,T5,T6)
Vector_Total_Item_Con<-c(T1C,T2C,T3C,T4C,T5C,T6C)
Vector_Total_Item_Dis<-c(T1D,T2D,T3D,T4D,T5D,T6D)
outputsLocations<-list(Vector_Total_Items=Vector_Total_Items,Vector_Total_Item_Con=Vector_Total_Item_Con,Vector_Total_Item_Dis=Vector_Total_Item_Dis)
return(outputsLocations)
}
outputsLocations<-Func_DF_Locations()
outputsLocations<-Func_DF_Locations()
Vector_Total_Items<-outputsLocations$Vector_Total_Items
Vector_Total_Item_Con<-outputsLocations$Vector_Total_Item_Con
Vector_Total_Item_Dis<-outputsLocations$Vector_Total_Item_Dis
Summary_Comparison_Treatments<-data.frame(
"Treatment" = c(1:6),
"Treatment Desc" = Treatment_Names,
"NWeeks" = Sens_Iterations,
"Participating Students" = N_Iterations*Service_No* Food_Days*Sens_Iterations,
"NStudentCosumedFood" = NStudentsConsumed,
"TotalFruitSystem"= Vector_Total_Item,
"TotalFruitConsumed"=Vector_Total_Item_Con,
"TotalFruitDiscarded"=Vector_Total_Item_Dis
#"ConsumptionRate"=Summary_Comparison_Treatments$NStudentCosumedFood/Summary_Comparison_Treatments$Participating.Students*100,
"0" = ZerosL*100 ,
Summary_Comparison_Treatments<-data.frame(
"Treatment" = c(1:6),
"Treatment Desc" = Treatment_Names,
"NWeeks" = Sens_Iterations,
"Participating Students" = N_Iterations*Service_No* Food_Days*Sens_Iterations,
"NStudentCosumedFood" = NStudentsConsumed,
"TotalFruitSystem"= Vector_Total_Item,
"TotalFruitConsumed"=Vector_Total_Item_Con,
"TotalFruitDiscarded"=Vector_Total_Item_Dis,
#"ConsumptionRate"=Summary_Comparison_Treatments$NStudentCosumedFood/Summary_Comparison_Treatments$Participating.Students*100,
"0" = ZerosL*100 ,
">0" = ZeroNine*100,
">100"=Nine_3Nine*100,
">1000"= ThousandsL*100,
"Mean Prevalence Ill" = MeanPRevalneces*100,
"Top 97.5 Ill"=Prevs975*100,
"Bot 025 Ill"=Prevs025*100,
stringsAsFactors = FALSE
)
Summary_Comparison_Treatments<-data.frame(
"Treatment" = c(1:6),
"Treatment Desc" = Treatment_Names,
"NWeeks" = Sens_Iterations,
"Participating Students" = N_Iterations*Service_No* Food_Days*Sens_Iterations,
"NStudentCosumedFood" = NStudentsConsumed,
"TotalFruitSystem"= Vector_Total_Items,
"TotalFruitConsumed"=Vector_Total_Item_Con,
"TotalFruitDiscarded"=Vector_Total_Item_Dis,
#"ConsumptionRate"=Summary_Comparison_Treatments$NStudentCosumedFood/Summary_Comparison_Treatments$Participating.Students*100,
"0" = ZerosL*100 ,
">0" = ZeroNine*100,
">100"=Nine_3Nine*100,
">1000"= ThousandsL*100,
"Mean Prevalence Ill" = MeanPRevalneces*100,
"Top 97.5 Ill"=Prevs975*100,
"Bot 025 Ill"=Prevs025*100,
stringsAsFactors = FALSE
)
Summary_Comparison_Treatments<-data.frame(
"Treatment" = c(1:6),
"Treatment Desc" = Treatment_Names,
"NWeeks" = Sens_Iterations,
"Participating Students" = N_Iterations*Service_No* Food_Days*Sens_Iterations,
"NStudentCosumedFood" = NStudentsConsumed,
"ConsumptionRate"=Summary_Comparison_Treatments$NStudentCosumedFood/Summary_Comparison_Treatments$Participating.Students*100,
"TotalFruitSystem"= Vector_Total_Items,
"TotalFruitConsumed"=Vector_Total_Item_Con,
"TotalFruitDiscarded"=Vector_Total_Item_Dis,
"PercentConsumed"=Summary_Comparison_Treatments$TotalFruitConsumed/Summary_Comparison_Treatments$TotalFruitSystem,
"PercentDiscarded"=Summary_Comparison_Treatments$TotalFruitDiscarded/Summary_Comparison_Treatments$TotalFruitSystem,
"0" = ZerosL*100 ,
">0" = ZeroNine*100,
">100"=Nine_3Nine*100,
">1000"= ThousandsL*100,
"Mean Prevalence Ill" = MeanPRevalneces*100,
"Top 97.5 Ill"=Prevs975*100,
"Bot 025 Ill"=Prevs025*100,
stringsAsFactors = FALSE
)
Summary_Comparison_Treatments<-data.frame(
"Treatment" = c(1:6),
"Treatment Desc" = Treatment_Names,
"NWeeks" = Sens_Iterations,
"Participating Students" = N_Iterations*Service_No* Food_Days*Sens_Iterations,
"NStudentCosumedFood" = NStudentsConsumed,
"ConsumptionRate"=Summary_Comparison_Treatments$NStudentCosumedFood/Summary_Comparison_Treatments$Participating.Students*100,
"TotalFruitSystem"= Vector_Total_Items,
"TotalFruitConsumed"=Vector_Total_Item_Con,
"TotalFruitDiscarded"=Vector_Total_Item_Dis,
"PercentConsumed"=Summary_Comparison_Treatments$TotalFruitConsumed/Summary_Comparison_Treatments$TotalFruitSystem*100,
"PercentDiscarded"=Summary_Comparison_Treatments$TotalFruitDiscarded/Summary_Comparison_Treatments$TotalFruitSystem*100,
"0" = ZerosL*100 ,
">0" = ZeroNine*100,
">100"=Nine_3Nine*100,
">1000"= ThousandsL*100,
"Mean Prevalence Ill" = MeanPRevalneces*100,
"Top 97.5 Ill"=Prevs975*100,
"Bot 025 Ill"=Prevs025*100,
stringsAsFactors = FALSE
)
