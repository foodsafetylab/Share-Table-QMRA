AFWT2$Index <-(AFWT2$Max-AFWT2$Min)/AFWT2$Nominal
AFWT2$Input<-"Pr Eating ST Food"
Input_No<-3
AFWT3<-data.frame(
"Input"=Input_No,
"Outputs"= c("TotalFruit","TotalConsumed","TotalDiscarded","TotalReserviced","ConsumedSel", "ConsumedST"),
"Min"=as.numeric(0),
"Nominal"=as.numeric(0),
"Max"=as.numeric(0),
"Index"="",
stringsAsFactors = FALSE)
#Inputs and Source Files
#Inputs
source("New_StudentLoop.R")
source("Input_Static.R")
source("Input_Functions.R")
source("Util_DFFunctions.R")
source("Util_DFWeekCreation.R")
source("Util_Counter&Lists.R")
#Functions
source("Util_Functions.R")
source("Util_CCFunctions2.R")
source("Util_VisualFunctions.R")
Pr_Pick_ST_Fr<-0.1
#Running Loop First:-------------------------------------
start_time<-Sys.time()
source("Main_Loops2.R")
T3_FWS<-rbind.fill(List_Sens_Fr)
T3_VectorFW<-Function_FoodWaste(T3_FWS)
AFWT3[1:6,3]<-T3_VectorFW
#Inputs and Source Files
#Inputs
source("New_StudentLoop.R")
source("Input_Static.R")
source("Input_Functions.R")
source("Util_DFFunctions.R")
source("Util_DFWeekCreation.R")
source("Util_Counter&Lists.R")
#Functions
source("Util_Functions.R")
source("Util_CCFunctions2.R")
source("Util_VisualFunctions.R")
Pr_Pick_ST_Fr<-0.5
#Running Loop First:-------------------------------------
start_time<-Sys.time()
source("Main_Loops2.R")
T3_FWS<-rbind.fill(List_Sens_Fr)
T3_VectorFW<-Function_FoodWaste(T3_FWS)
AFWT3[1:6,4]<-T3_VectorFW
#Inputs and Source Files
#Inputs
source("New_StudentLoop.R")
source("Input_Static.R")
source("Input_Functions.R")
source("Util_DFFunctions.R")
source("Util_DFWeekCreation.R")
source("Util_Counter&Lists.R")
#Functions
source("Util_Functions.R")
source("Util_CCFunctions2.R")
source("Util_VisualFunctions.R")
Pr_Pick_ST_Fr<-0.9
#Running Loop First:-------------------------------------
start_time<-Sys.time()
source("Main_Loops2.R")
T3_FWS<-rbind.fill(List_Sens_Fr)
T3_VectorFW<-Function_FoodWaste(T3_FWS)
AFWT3[1:6,5]<-T3_VectorFW
for (i in 2:nrow(AFWT3)){
AFWT3[i,3:5] <- AFWT3[i,3:5]/AFWT3[1,3:5]
}
AFWT3$Index <-(AFWT3$Max-AFWT3$Min)/AFWT3$Nominal
AFWT3$Input<-"ST Participation"
Input_No<-4
AFWT4<-data.frame(
"Input"=Input_No,
"Outputs"= c("TotalFruit","TotalConsumed","TotalDiscarded","TotalReserviced","ConsumedSel", "ConsumedST"),
"Min"=as.numeric(0),
"Nominal"=as.numeric(0),
"Max"=as.numeric(0),
"Index"="",
stringsAsFactors = FALSE)
#Inputs and Source Files
#Inputs
source("New_StudentLoop.R")
source("Input_Static.R")
source("Input_Functions.R")
source("Util_DFFunctions.R")
source("Util_DFWeekCreation.R")
source("Util_Counter&Lists.R")
#Functions
source("Util_Functions.R")
source("Util_CCFunctions2.R")
source("Util_VisualFunctions.R")
Pr_select_Fr<-0.1
#Running Loop First:-------------------------------------
start_time<-Sys.time()
source("Main_Loops2.R")
T4_FWS<-rbind.fill(List_Sens_Fr)
T4_VectorFW<-Function_FoodWaste(T4_FWS)
AFWT4[1:6,3]<-T4_VectorFW
#Inputs and Source Files
#Inputs
source("New_StudentLoop.R")
source("Input_Static.R")
source("Input_Functions.R")
source("Util_DFFunctions.R")
source("Util_DFWeekCreation.R")
source("Util_Counter&Lists.R")
#Functions
source("Util_Functions.R")
source("Util_CCFunctions2.R")
source("Util_VisualFunctions.R")
Pr_select_Fr<-0.5
#Running Loop First:-------------------------------------
start_time<-Sys.time()
source("Main_Loops2.R")
T4_FWS<-rbind.fill(List_Sens_Fr)
T4_VectorFW<-Function_FoodWaste(T4_FWS)
AFWT4[1:6,4]<-T4_VectorFW
#Inputs and Source Files
#Inputs
source("New_StudentLoop.R")
source("Input_Static.R")
source("Input_Functions.R")
source("Util_DFFunctions.R")
source("Util_DFWeekCreation.R")
source("Util_Counter&Lists.R")
#Functions
source("Util_Functions.R")
source("Util_CCFunctions2.R")
source("Util_VisualFunctions.R")
Pr_select_Fr<-0.9
#Running Loop First:-------------------------------------
start_time<-Sys.time()
source("Main_Loops2.R")
T4_FWS<-rbind.fill(List_Sens_Fr)
T4_VectorFW<-Function_FoodWaste(T4_FWS)
AFWT4[1:6,5]<-T4_VectorFW
for (i in 2:nrow(AFWT4)){
AFWT4[i,3:5] <- AFWT4[i,3:5]/AFWT4[1,3:5]
}
AFWT4$Index <-(AFWT4$Max-AFWT4$Min)/AFWT4$Nominal
AFWT4$Input<-"Pr_Select_Fr"
Input_No<-5
AFWT5<-data.frame(
"Input"=Input_No,
"Outputs"= c("TotalFruit","TotalConsumed","TotalDiscarded","TotalReserviced","ConsumedSel", "ConsumedST"),
"Min"=as.numeric(0),
"Nominal"=as.numeric(0),
"Max"=as.numeric(0),
"Index"="",
stringsAsFactors = FALSE)
#Inputs and Source Files
#Inputs
source("New_StudentLoop.R")
source("Input_Static.R")
source("Input_Functions.R")
source("Util_DFFunctions.R")
source("Util_DFWeekCreation.R")
source("Util_Counter&Lists.R")
#Functions
source("Util_Functions.R")
source("Util_CCFunctions2.R")
source("Util_VisualFunctions.R")
Pr_eat_Fr<-0.1
#Running Loop First:-------------------------------------
start_time<-Sys.time()
source("Main_Loops2.R")
T5_FWS<-rbind.fill(List_Sens_Fr)
T5_VectorFW<-Function_FoodWaste(T5_FWS)
AFWT5[1:6,3]<-T5_VectorFW
#Inputs and Source Files
#Inputs
source("New_StudentLoop.R")
source("Input_Static.R")
source("Input_Functions.R")
source("Util_DFFunctions.R")
source("Util_DFWeekCreation.R")
source("Util_Counter&Lists.R")
#Functions
source("Util_Functions.R")
source("Util_CCFunctions2.R")
source("Util_VisualFunctions.R")
Pr_eat_Fr<-0.5
#Running Loop First:-------------------------------------
start_time<-Sys.time()
source("Main_Loops2.R")
T5_FWS<-rbind.fill(List_Sens_Fr)
T5_VectorFW<-Function_FoodWaste(T5_FWS)
AFWT5[1:6,4]<-T5_VectorFW
#Inputs and Source Files
#Inputs
source("New_StudentLoop.R")
source("Input_Static.R")
source("Input_Functions.R")
source("Util_DFFunctions.R")
source("Util_DFWeekCreation.R")
source("Util_Counter&Lists.R")
#Functions
source("Util_Functions.R")
source("Util_CCFunctions2.R")
source("Util_VisualFunctions.R")
Pr_eat_Fr<-0.9
#Running Loop First:-------------------------------------
start_time<-Sys.time()
source("Main_Loops2.R")
T5_FWS<-rbind.fill(List_Sens_Fr)
T5_VectorFW<-Function_FoodWaste(T5_FWS)
AFWT5[1:6,5]<-T5_VectorFW
for (i in 2:nrow(AFWT5)){
AFWT5[i,3:5] <- AFWT5[i,3:5]/AFWT5[1,3:5]
}
AFWT5$Index <-(AFWT5$Max-AFWT5$Min)/AFWT5$Nominal
AFWT5$Input<-"Pr_Eat_Fr"
load("G:/Share Table QMRA/Share-Table-QMRA/R/senswasdte.RData")
#Creating comparisons for all the 5 diffeent Inputs.
All_AFW<-rbind.fill(AFWT1,AFWT2,AFWT3,AFWT4,AFWT5)
ggplot(data=All_AFW, aes(x= Outputs, y =Index, fill= Input))+
geom_col(position = "dodge")+
coord_flip()
View(AFWT1)
ggplot(data=All_AFW, aes(x= Outputs, y =Index, fill= Input))+
geom_col(position = "dodge")+
coord_flip()+
scale_x_log10()
ggplot(data=All_AFW, aes(x= Outputs, y =Index, fill= Input))+
geom_col(position = "dodge")+
coord_flip()
ggplot(data=All_AFW, aes(x= Outputs, y =Index, fill= Input))+
geom_col(pos=ition = "dodge")+
ggplot(data=All_AFW, aes(x= Outputs, y =Index, fill= Input))+
geom_col(pos=ition = "dodge")+
ggplot(data=All_AFW, aes(x= Outputs, y =Index, fill= Input))+
geom_col(position = "dodge")+
coord_flip()+
scale_x_continuous(trans='log2')
View(All_AFW)
All_AFW$Index<-as.numeric(All_AFW$Index)
ggplot(data=All_AFW, aes(x= Outputs, y =Index, fill= Input))+
geom_col(position = "dodge")+
coord_flip()+
scale_x_continuous(trans='log2')
All_AFW$Index<-as.numeric(All_AFW$Index)
All_AFW<-rbind.fill(AFWT1,AFWT2,AFWT3,AFWT4)
All_AFW$Index<-as.numeric(All_AFW$Index)
ggplot(data=All_AFW, aes(x= Outputs, y =Index, fill= Input))+
geom_col(position = "dodge")+
coord_flip()+
scale_x_continuous(trans='log2')
All_AFW<-rbind.fill(AFWT1,AFWT2,AFWT3,AFWT4)
All_AFW$Index<-as.numeric(All_AFW$Index)
ggplot(data=All_AFW, aes(x= Outputs, y =Index, fill= Input))+
geom_col(position = "dodge")+
coord_flip()+
scale_x_continuous(trans='log2')
ggplot(data=All_AFW, aes(x= Outputs, y =Index, fill= Input))+
geom_col(position = "dodge")
ggplot(data=All_AFW, aes(x= Outputs, y =Index, fill= Input))+
geom_col(position = "dodge")+
coord_flip()+
scale_y_continuous(trans='log2')
ggplot(data=All_AFW, aes(x= Outputs, y =Index, fill= Input))+
geom_col(position = "dodge")+
coord_flip()
ggplot(data=All_AFW, aes(x= Outputs, y =Index))+
geom_col(position = "dodge")+
coord_flip()+
facet_wrap(~ Input)
View(AFWT1)
All_AFW<-rbind.fill(AFWT1,AFWT2,AFWT3,AFWT4)
ggplot(data=All_AFW, aes(x= Outputs, y =Index))+
geom_col(position = "dodge")+
coord_flip()+
facet_wrap(~ Input)
View(AFWT3)
ggplot(data=All_AFW, aes(x= Outputs, y =Index))+
geom_col(position = "dodge")+
coord_flip()+
scale_y_continuous(trans='log2')+
facet_wrap(~ Input)
ggplot(data=All_AFW, aes(x= Outputs, y =Index))+
geom_col(position = "dodge")+
coord_flip()+
facet_wrap(~ Input)
ggplot(data=All_AFW, aes(x= Outputs, y =Index))+
geom_col(position = "dodge")+
coord_flip()+
facet_wrap(~ Input)+
scale_y_continuous(limits = 10)
ggplot(data=All_AFW, aes(x= Outputs, y =Index))+
geom_col(position = "dodge")+
coord_flip()+
facet_wrap(~ Input)+
ylim(0,10)
ggplot(data=All_AFW, aes(x= Outputs, y =Index))+
geom_col(position = "dodge")+
coord_flip()+
facet_wrap(~ Input)+
ylim(-10,10)
ggplot(data=All_AFW, aes(x= Outputs, y =Index))+
geom_col(position = "dodge")+
coord_flip()+
facet_wrap(~ Input)+
ylim(-5,10)
ggplot(data=All_AFW, aes(x= Outputs, y =Index))+
geom_col(position = "dodge")+
coord_flip()+
facet_wrap(~ Input)+
ylim(-5,6)
ggplot(data=All_AFW, aes(x= Outputs, y =Index))+
geom_col(position = "dodge")+
coord_flip()+
facet_wrap(~ Input)+
ylim(-5,7)
ggplot(data=All_AFW, aes(x= Input, y =Index))+
geom_col(position = "dodge")+
coord_flip()+
facet_wrap(~ Output)+
ylim(-5,7)
ggplot(data=All_AFW, aes(x= Input, y =Index))+
geom_col(position = "dodge")+
coord_flip()+
facet_wrap(~ Outputs)+
ylim(-5,7)
ggplot(data=All_AFW, aes(x= Input, y =Index))+
geom_col(position = "dodge")+
coord_flip()+
facet_wrap(~ Outputs)#+
ggplot(data=All_AFW, aes(x= Input, y =Index))+
geom_col(position = "dodge")+
coord_flip()+
facet_wrap(~ Outputs)+
ylim(-5,7)
View(All_AFW)
DFCheckingInputs<-data.frame(
"Input" = 1:10,
"Description" = "",
"MaxOut" = "",
"MinOut" = "",
"NominalOut"= "",
"Index"="",
stringsAsFactors = FALSE
)
Input_No<-1
TreatmentNo<-1
#Adding it to the DF
DFCheckingInputs[Input_No,colnames(DFCheckingInputs)=="Description"]<-"Reduction_wash"
#Inputs and Source Files
#Inputs
source("New_StudentLoop.R")
source("Input_Static.R")
source("Input_Functions.R")
source("Util_DFFunctions.R")
source("Util_DFWeekCreation.R")
source("Util_Counter&Lists.R")
#Functions
source("Util_Functions.R")
source("Util_CCFunctions2.R")
source("Util_VisualFunctions.R")
#Running Loop First:-------------------------------------
start_time<-Sys.time()
source("Main_Loops2.R")
TI_1<-rbind.fill(List_Sens_Fr)
meanTI1<-Func_NSA_Summary(Trial = "T1")
DFCheckingInputs[Input_No,colnames(DFCheckingInputs)=="MinOut"]<-meanTI1
TreatmentNo<-2
#Inputs
source("New_StudentLoop.R")
source("Input_Static.R")
source("Input_Functions.R")
source("Util_DFFunctions.R")
source("Util_DFWeekCreation.R")
source("Util_Counter&Lists.R")
#Functions
source("Util_Functions.R")
source("Util_CCFunctions2.R")
source("Util_VisualFunctions.R")
Reduction_wash<-(-2)
#Wash Selection Table Fruit
Wash_Selection_YN_Fr<-1
#Wash Share Table Items
Wash_ST_YN_Fr<-1
#Running Loop First:-------------------------------------
start_time<-Sys.time()
source("Main_Loops2.R")
TI_2<-rbind.fill(List_Sens_Fr)
meanTI2<-Func_NSA_Summary(Trial = "T2")
DFCheckingInputs[Input_No,colnames(DFCheckingInputs)=="NominalOut"]<-meanTI2
TreatmentNo<-3
#Inputs
source("New_StudentLoop.R")
source("Input_Static.R")
source("Input_Functions.R")
source("Util_DFFunctions.R")
source("Util_DFWeekCreation.R")
source("Util_Counter&Lists.R")
#Functions
source("Util_Functions.R")
source("Util_CCFunctions2.R")
source("Util_VisualFunctions.R")
Reduction_wash<-(-5)
#Wash Selection Table Fruit
Wash_Selection_YN_Fr<-1
#Wash Share Table Items
Wash_ST_YN_Fr<-1
#Running Loop First:-------------------------------------
start_time<-Sys.time()
source("Main_Loops2.R")
TI_3<-rbind.fill(List_Sens_Fr)
meanTI3<-Func_NSA_Summary(Trial = "T3")
DFCheckingInputs[Input_No,colnames(DFCheckingInputs)=="MaxOut"]<-meanTI3
load("C:/Users/Gustavo Reyes/Documents/3-12 Running Model.RData")
ggplot(data = FoodWaste_Analysis_melted, aes(x= Treatment,y=value, fill= variable))+
geom_col()+
scale_x_discrete(labels=c("XClosed"="Re-Service Off",
"OFF" = "STOFF",
"ON"= "STON",
'XAside' = 'One-way ST',
'XExc' = 'Ill Exclusion'
))+
ylab("Number of Fruit")+
xlab("Intervention")+
labs(fill = "Locations")+
ggtitle("Share Table Interventions: Items Consumed vs Wasted")+
theme(plot.title = element_text(hjust = 0.5))+
ggsave(filename = "FoodSecFin4.png", path = pathfolder,width = 10,height = 8,)
View(FoodWaste_Analysis_melted)
FoodWaste_Analysis_melted<-FoodWaste_Analysis_melted %>%
group_by(variable) %>%
filter(!any(world == "TotalFruit","TotalConsumed"))
FoodWaste_Analysis_melted<-FoodWaste_Analysis_melted %>%
group_by(variable) %>%
filter(!any(variable == "TotalFruit","TotalConsumed"))
FoodWaste_Analysis_melted<-melt(data =FoodWaste_Analysis,id = "Treatment" )
FoodWaste_Analysis_melted$value<- as.numeric(FoodWaste_Analysis_melted$value)
FoodWaste_Analysis_melted[FoodWaste_Analysis_melted$value != c("TotalFruit","TotalConsumed")]
FoodWaste_Analysis_melted[FoodWaste_Analysis_melted$value != c("TotalFruit","TotalConsumed"),]
FoodWaste_Analysis_melted<-FoodWaste_Analysis_melted[FoodWaste_Analysis_melted$value != c("TotalFruit","TotalConsumed"),]
FoodWaste_Analysis_melted<-FoodWaste_Analysis_melted[FoodWaste_Analysis_melted$variable != c("TotalFruit","TotalConsumed"),]
FoodWaste_Analysis_melted<-FoodWaste_Analysis_melted[FoodWaste_Analysis_melted$variable != c("TotalFruit","TotalConsumed"),]
FoodWaste_Analysis_melted<-FoodWaste_Analysis_melted[FoodWaste_Analysis_melted$variable != c("TotalFruit","TotalConsumed"),]
ggplot(data = FoodWaste_Analysis_melted, aes(x= Treatment,y=value, fill= variable))+
geom_col()+
scale_x_discrete(labels=c("XClosed"="Re-Service Off",
"OFF" = "STOFF",
"ON"= "STON",
'XAside' = 'One-way ST',
'XExc' = 'Ill Exclusion'
))+
ylab("Number of Fruit")+
xlab("Intervention")+
labs(fill = "Locations")+
ggtitle("Share Table Interventions: Items Consumed vs Wasted")+
theme(plot.title = element_text(hjust = 0.5))+
ggsave(filename = "FoodSecFin4.png", path = pathfolder,width = 10,height = 8,)
ggplot(data = FoodWaste_Analysis_melted, aes(x= Treatment,y=value, fill= factor(variable = c("TotalReserviced", "TotalDiscarded", "ConsumedSel", "ConsumedST"))))+
geom_col()+
scale_x_discrete(labels=c("XClosed"="Re-Service Off",
"OFF" = "STOFF",
"ON"= "STON",
'XAside' = 'One-way ST',
'XExc' = 'Ill Exclusion'
))+
ylab("Number of Fruit")+
xlab("Intervention")+
labs(fill = "Locations")+
ggtitle("Share Table Interventions: Items Consumed vs Wasted")+
theme(plot.title = element_text(hjust = 0.5))+
ggsave(filename = "FoodSecFin4.png", path = pathfolder,width = 10,height = 8,)
ggplot(data = FoodWaste_Analysis_melted, aes(x= Treatment,y=value, levels= factor(variable = c("TotalReserviced", "TotalDiscarded", "ConsumedSel", "ConsumedST"))))+
geom_col()+
scale_x_discrete(labels=c("XClosed"="Re-Service Off",
"OFF" = "STOFF",
"ON"= "STON",
'XAside' = 'One-way ST',
'XExc' = 'Ill Exclusion'
))+
ylab("Number of Fruit")+
xlab("Intervention")+
labs(fill = "Locations")+
ggtitle("Share Table Interventions: Items Consumed vs Wasted")+
theme(plot.title = element_text(hjust = 0.5))+
ggsave(filename = "FoodSecFin4.png", path = pathfolder,width = 10,height = 8,)
ggplot(data = FoodWaste_Analysis_melted, aes(x= Treatment,y=value, fill= factor(variable, levels  = c("TotalReserviced", "TotalDiscarded", "ConsumedSel", "ConsumedST"))))+
geom_col()+
scale_x_discrete(labels=c("XClosed"="Re-Service Off",
"OFF" = "STOFF",
"ON"= "STON",
'XAside' = 'One-way ST',
'XExc' = 'Ill Exclusion'
))+
ylab("Number of Fruit")+
xlab("Intervention")+
labs(fill = "Locations")+
ggtitle("Share Table Interventions: Items Consumed vs Wasted")+
theme(plot.title = element_text(hjust = 0.5))+
ggsave(filename = "FoodSecFin4.png", path = pathfolder,width = 10,height = 8,)
ggplot(data = FoodWaste_Analysis_melted, aes(x= Treatment,y=value, fill= factor(variable, levels  = c("TotalReserviced", "TotalDiscarded", "ConsumedSel", "ConsumedST"))))+
geom_col()+
scale_x_discrete(labels=c("XClosed"="Re-Service Off",
"OFF" = "STOFF",
"ON"= "STON",
'XAside' = 'One-way ST',
'XExc' = 'Ill Exclusion'
))+
ylab("Number of Fruit")+
xlab("Intervention")+
labs(fill = "Locations")+
ggtitle("Share Table Interventions: Items Consumed vs Wasted")+
theme(plot.title = element_text(hjust = 0.5))+
ggsave(filename = "FoodSecFin4.png", path = pathfolder,width = 10,height = 8,)
