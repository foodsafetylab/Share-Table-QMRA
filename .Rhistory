k<-0.4 #log CFU/ml/ day
time<-21
GrowthTime<-time-lag
Growth<-GrowthTime*k
Concentration<-N0+Growth
results<-c(results, Concentration)
}
hist(results)
for (i in 1:10000){
N0<-rlnorm(1,-.72,0.99)
lag <-3.1 #days
k<-0.4 #log CFU/ml/ day
time<-21
GrowthTime<-time-lag
Growth<-GrowthTime*k
Concentration<-N0+Growth
results<-c(results, Concentration)
}
hist(results)
for (i in 1:100000){
N0<-rlnorm(1,-.72,0.99)
lag <-3.1 #days
k<-0.4 #log CFU/ml/ day
time<-21
GrowthTime<-time-lag
Growth<-GrowthTime*k
Concentration<-N0+Growth
results<-c(results, Concentration)
}
hist(results)
results<-c()
for (i in 1:100000){
N0<-rlnorm(1,-.72,0.99)
lag <-3.1 #days
k<-0.4 #log CFU/ml/ day
time<-21
GrowthTime<-time-lag
Growth<-GrowthTime*k
Concentration<-N0+Growth
results<-c(results, Concentration)
}
results<-c()
for (i in 1:100000){
N0<-rlnorm(1,-.72,0.99)
lag <-3.1 #days
k<-0.4 #log CFU/ml/ day
time<-21
GrowthTime<-time-lag
Growth<-GrowthTime*k
Concentration<-N0+Growth
results<-c(results, Concentration)
}
hist(results)
?hist
hist(results, breaks = 50)
results<-c()
for (i in 1:100000){
N0<-rnorm(1,-.72,0.99)
lag <-3.1 #days
k<-0.4 #log CFU/ml/ day
time<-21
GrowthTime<-time-lag
Growth<-GrowthTime*k
Concentration<-N0+Growth
results<-c(results, Concentration)
}
hist(results, breaks = 50)
#For APC
Theta1<-(.67)
Theta2<- (.03)
Theta3<-(-2.67)
time<-50
(Theta1*exp(-Theta2*time))+Theta3
df1<-data.frame(
Time = 1:900
Contlvl = as.numeric(0)
)
#For APC @ 13Â°C
Theta1<-(.67)
Theta2<- (.03)
Theta3<-(-2.67)
time<-50
(Theta1*exp(-Theta2*time))+Theta3
df1<-data.frame(
Time = 1:900
Variable = as.numeric(0)
)
df1<-data.frame(
Time = 1:900,
Variable = as.numeric(0)
)
for( i in 1:nrow(df1)){
Time<-i
Variable<-(Theta1*exp(-Theta2*Time))+Theta3
df1[i,colnames(df1)== "Variable"]<-as.numeric(Variable)
}
View(df1)
plot(df1$Variable)
setwd("C:/Users/gareyes3/Documents/GitHub/Share-Table-QMRA")
#Library
source("Library.R")
results<-c()
results<-c()
prevalence<-.14
for (i in 1:100000){
Prevalence_YN<-ifelse(runif(1)<prevalence,1,0)
if(Prevalence_YN ==1){
N0<-rnorm(1,-.72,0.99)
} else if (Prevalence_YN == 0 ){
N0<-0
}
lag <-3.1 #days
k<-0.4 #log CFU/ml/ day
time<-21
GrowthTime<-time-lag
Growth<-GrowthTime*k
Concentration<-N0+Growth
results<-c(results, Concentration)
}
hist(results, breaks = 50)
results<-c()
prevalence<-.14
for (i in 1:100000){
Prevalence_YN<-ifelse(runif(1)<prevalence,1,0)
if(Prevalence_YN ==1){
N0<-rnorm(1,-.72,0.99)
} else if (Prevalence_YN == 0 ){
N0<-0
}
lag <-3.1 #days
k<-0.4 #log CFU/ml/ day
time<-21
GrowthTime<-time-lag
Growth<-GrowthTime*k
Concentration<-N0+Growth
results<-c(results, Concentration)
}
hist(results, breaks = 50)
rlnorm(100000, 1,0.9)
rlnorm(1000, 1,0.9)
data<-rlnorm(1000, 1,0.9)
hist(data)
hist(data, breaks = 10)
hist(data, breaks = 100)
Data_Frame_Milk<-data.frame(
Iteration = 1:1000,
Shelflife =as.numeric(0),
stringsAsFactors = FALSE
)
Data_Frame_Milk<-data.frame(
Iteration = 1:1000,
Shelflife =as.numeric(0),
stringsAsFactors = FALSE
)
for (i in 1:nrow(Data_Frame_Milk)){
for (i in 1:nrow(Data_Frame_Milk)){
Temp<-rnorm(1,6.5,2)
Initial_pop<-rlnorm(1,1,0.9)
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(2.41)
b<-.05273
k<-((Temp-Tempmin)*b)^2
Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k *Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
Data_Frame_Milk[i,colnames(Data_Frame_Milk)== "Shelflife"]<-Shelf_Life_days
}
hist(Initial_pop)
hist(Data_Frame_Milk$Shelflife)
hist(Data_Frame_Milk$Shelflife)
for (i in 1:nrow(Data_Frame_Milk)){
Temp<-rnorm(1,6.5,2)
Initial_pop<-rlnorm(1,1,0.9)
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(2.41)
b<-.05273
k<-((Temp-Tempmin)*b)^2
Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k *Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
Data_Frame_Milk[i,colnames(Data_Frame_Milk)== "Shelflife"]<-Shelf_Life_days
}
hist(Data_Frame_Milk$Shelflife)
hist(Data_Frame_Milk$Shelflife, breaks = 50)
hist(Data_Frame_Milk$Shelflife, breaks = 1000)
View(Data_Frame_Milk)
Temp<-rnorm(1,6.5,2)
Initial_pop<-rlnorm(1,1,0.9)
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(2.41)
b<-.05273
k<-((Temp-Tempmin)*b)^2
Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k *Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
Temp<-rnorm(25)
Initial_pop<-rlnorm(1,1,0.9)
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(2.41)
b<-.05273
k<-((Temp-Tempmin)*b)^2
Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k *Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
Temp<-rnorm(25)
Temp<-25
Initial_pop<-rlnorm(1,1,0.9)
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(2.41)
b<-.05273
k<-((Temp-Tempmin)*b)^2
Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k *Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
k<-((Temp-Tempmin)*b)^2
Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k *Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
Temp<-4
k<-((Temp-Tempmin)*b)^2
Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k *Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
Temp<-4
Initial_pop<-rlnorm(1,1,0.9)
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(2.41)
b<-.05273
k<-((Temp-Tempmin)*b)^2
#Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k *Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
Temp<-20
Initial_pop<-rlnorm(1,1,0.9)
Initial_pop<-rlnorm(1,1,0.9)
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(2.41)
b<-.05273
k<-((Temp-Tempmin)*b)^2
#Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k *Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
Temp<-20
Initial_pop<-1
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(-1.19)
b<-.03578
k<-((Temp-Tempmin)*b)^2
#Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k *Variability
Temp<-20
Initial_pop<-1
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(-1.19)
b<-.03578
k<-((Temp-Tempmin)*b)^2
#Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k #*Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
Temp<-25
Initial_pop<-1
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(-1.19)
b<-.03578
k<-((Temp-Tempmin)*b)^2
#Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k #*Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
#Mesophiles
Temp<-25
Initial_pop<-1
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(2.41)
b<-.05273
k<-((Temp-Tempmin)*b)^2
#Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k #*Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
#Mesophiles
Temp<-25
Initial_pop<-1
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(2.41)
b<-.05273
k<-((Temp-Tempmin)*b)^2
#Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k #*Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
Temp<-25
Initial_pop<-1
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(-1.19)
b<-.03578
k<-((Temp-Tempmin)*b)^2
#Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k #*Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
Temp<-10
Initial_pop<-1
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(-1.19)
b<-.03578
k<-((Temp-Tempmin)*b)^2
#Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k #*Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
Temp<-15
Initial_pop<-1
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(-1.19)
b<-.03578
k<-((Temp-Tempmin)*b)^2
#Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k #*Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
Temp<-40
Initial_pop<-1
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(-1.19)
b<-.03578
k<-((Temp-Tempmin)*b)^2
#Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k #*Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
Temp<-25
Initial_pop<-1
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(-1.19)
b<-.03578
k<-((Temp-Tempmin)*b)^2
#Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k #*Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
#Mesophiles
Temp<-25
Initial_pop<-1
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(2.41)
b<-.05273
k<-((Temp-Tempmin)*b)^2
#Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k #*Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
#Mesophiles
Temp<-4
Initial_pop<-1
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(2.41)
b<-.05273
k<-((Temp-Tempmin)*b)^2
#Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k #*Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
Temp<-4
Initial_pop<-1
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(-1.19)
b<-.03578
k<-((Temp-Tempmin)*b)^2
#Variability<-(1-(rnorm(1,0,17)/100))
New_K<- k #*Variability
Conversion<-2^New_K
New_K2<-log10(Conversion)
Shelf_Life<-Growth_spoilage/New_K2
Shelf_Life_days<-Shelf_Life/24
Temp<-25
k<-((Temp-Tempmin)*b)^2
Temp<-24
k<-((Temp-Tempmin)*b)^2
Temp<-30
b<-.03578
k<-((Temp-Tempmin)*b)^2
Temp<-100
b<-.03578
k<-((Temp-Tempmin)*b)^2
Temp<-5
k<-((Temp-Tempmin)*b)^2
Temp<-5
Initial_pop<-1
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(-7.7)
b<-.004
k<-((Temp-Tempmin)*b)^2
Temp<-25
Initial_pop<-1
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(-7.7)
b<-.004
k*60
Temp<-25
Initial_pop<-1
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(-7.9)
b<-.0272
k<-((Temp-Tempmin)*b)^2
Temp<-4
Initial_pop<-1
Spoilage<-7
Growth_spoilage<-Spoilage-Initial_pop
Tempmin<-(-7.9)
b<-.0272
k<-((Temp-Tempmin)*b)^2
b<-03772
Temp<-24
Tmin<-(-6.1)
Tmax(41.2)
c<-.1719
time<-10
Tmin<-(-6.1)
Tmax<-(41.2)
c<-.1719
time<-10
k<-(b*(Temp-Tmin)(1-exp(c*(T-Tmax))))^2
k<-(b*(Temp-Tmin)(1-exp(c*(Temp-Tmax))))^2
b<-.03772
Temp<-24
Tmin<-(-6.1)
Tmax<-(41.2)
c<-.1719
time<-10
k<-(b*(Temp-Tmin)(1-exp(c*(Temp-Tmax))))^2
k<-(b*(Temp-Tmin)*(1-exp(c*(Temp-Tmax))))^2
b<-.03772
Temp<-4
Tmin<-(-6.1)
Tmax<-(41.2)
c<-.1719
time<-10
k<-(b*(Temp-Tmin)*(1-exp(c*(Temp-Tmax))))^2
